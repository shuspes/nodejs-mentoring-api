# nodejs-mentoring-api

## npm scripts:

* **npm run dev** to run app locally

* **npm run eslint** to run eslint audit

## Database:

* **database/createUsersTable.sql** to create **users** table
* **database/addInitialDataToUsersTable.sql** to add initial contend to **users** table
* **database/deleteUsersTableContent.sql** to clean **users** table
* **database/dropUsersTable.sql** to delete **users** table

## .env file template:
PORT=  
DATABASE_DIALECT=  
DATABASE_HOST=  
DATABASE_PORT=  
DATABASE_DB_NAME=  
DATABASE_USER=  
DATABASE_PASSWORD=  
DATABASE_USERS_TABLE_NAME=  

## CURL API calls examples:

* **GET** get all users - curl -i http://localhost:3000/users | npx json

* **GET** get user by id - curl -i http://localhost:3000/users/ac34d1e0-8ffe-11eb-a8b3-0242ac130001 | npx json

* **POST** create user - curl -i -X POST -H "Content-Type: application/json" -d "{\"login\": \"user-5-new\", \"password\": \"P@ssw0rd\", \"age\": 56}" http://localhost:3000/users | npx json

* **PUT** update user - curl -i -X PUT -H "Content-Type: application/json" -d "{\"login\": \"user-2-updated\", \"password\": \"U$er@1\", \"age\": 56}" http://localhost:3000/users/ac34d83e-8ffe-11eb-a8b3-0242ac130002 | npx json

* **GET** get auto suggest users - curl -i http://localhost:3000/users/use/10 | npx json

* **DELETE** remove user - curl -i -X DELETE http://localhost:3000/users/ac34d1e0-8ffe-11eb-a8b3-0242ac130001 | npx json

## NOTES:

* User id is generated by application and cannot be changed or created by requests

## Testing of unexpected usage:

* **POST** create user with extra argument and boolean login - curl -i -X POST -H "Content-Type: application/json" -d "{\"test-param\": \"some test param\", \"login\": true, \"password\": \"P@ssw0rd\", \"age\": 67}" http://localhost:3000/users | npx json

* **PUT** update user with extra argument, without age and not valid password - curl -i -X PUT -H "Content-Type: application/json" -d "{\"test-param\": \"some test param\", \"login\": \"user-2-updated\", \"password\": \"u$eR@\"}" http://localhost:3000/users/ac34d83e-8ffe-11eb-a8b3-0242ac130002 | npx json